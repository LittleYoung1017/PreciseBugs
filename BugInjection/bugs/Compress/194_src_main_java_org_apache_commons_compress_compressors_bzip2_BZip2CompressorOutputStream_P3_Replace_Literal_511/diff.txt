--- /BZip2CompressorOutputStream.java	2023-07-04 03:55:43.882548327 +0000
+++ /Compress-1/src/main/java/org/apache/commons/compress/compressors/bzip2/BZip2CompressorOutputStream.java	2023-07-04 03:55:43.886548274 +0000
@@ -191,7 +191,7 @@
                     k = parent[k];
                     j++;
                 }
-                len[i - 1] = (char) j;
+len[i - nBlocksRandomised] =  ( char )  j;
                 if (j > maxLen) {
                     tooLong = true;
                 }
