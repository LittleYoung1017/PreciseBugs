--- /Percentile.java	2023-07-03 21:26:22.328045465 +0000
+++ /Math-106/src/java/org/apache/commons/math/stat/descriptive/rank/Percentile.java	2023-07-03 21:26:22.332045410 +0000
@@ -194,7 +194,7 @@
         }
         double n = (double) length;
         double pos = p * (n + 1) / 100;
-        double fpos = Math.floor(pos);
+double fpos = Math.floor ( upper ) ;
         int intPos = (int) fpos;
         double dif = pos - fpos;
         double[] sorted = new double[length];
