commit 59d16517cd5ae8d743d570ee24fed2403fdd4682Author: Fabian Meumertzheim <fabian@meumertzhe.im>Date:   Tue Mar 8 12:54:20 2022 +0100    Fix ClassCastException in mapGet hook        If the argument to Map#get cannot be compared to the keys in the map due    to an incompatible type, the hook threw a ClassCastException.        To address this, we:    * Catch and ignore ClassCastException where it could be thrown.    * Reverse the compareTo calls so that the likely more lenient compareTo      function of the valid map key is used.        The original OSS-Fuzz finding that uncovered this bug:    == Java Exception: java.lang.ClassCastException: class com.alibaba.fastjson.JSONObject cannot be cast to class java.lang.Integer (com.alibaba.fastjson.JSONObject is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')     at java.base/java.lang.Integer.compareTo(Integer.java:64)     at com.code_intelligence.jazzer.runtime.TraceCmpHooks.mapGet(TraceCmpHooks.java:308)     at com.alibaba.fastjson.JSONObject.get(JSONObject.java:110)     at com.alibaba.fastjson.JSONPath.getArrayItem(JSONPath.java:3577)     at com.alibaba.fastjson.JSONPath$ArrayAccessSegment.eval(JSONPath.java:2736)     at com.alibaba.fastjson.JSONPath.eval(JSONPath.java:121)     at com.alibaba.fastjson.parser.DefaultJSONParser.handleResovleTask(DefaultJSONParser.java:1599)     at com.alibaba.fastjson.JSON.parse(JSON.java:183)     at com.alibaba.fastjson.JSON.parse(JSON.java:191)     at com.alibaba.fastjson.JSON.parse(JSON.java:147)     at JsonFuzzer.fuzzerTestOneInput(JsonFuzzer.java:24)        Fixes https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=42365
