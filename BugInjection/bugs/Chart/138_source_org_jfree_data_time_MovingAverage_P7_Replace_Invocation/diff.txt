--- /MovingAverage.java	2023-07-03 18:46:42.725982752 +0000
+++ /Chart-26/source/org/jfree/data/time/MovingAverage.java	2023-07-03 18:46:42.729982698 +0000
@@ -135,7 +135,7 @@
             long firstSerial 
                     = source.getDataItem(0).getPeriod().getSerialIndex() + skip;
 
-            for (int i = source.getItemCount() - 1; i >= 0; i--) {
+for  ( int i = source .getKey (  )   - 1; i >= 0; i-- )  {
 
                 // get the current data item...
                 TimeSeriesDataItem current = source.getDataItem(i);
