--- /ObjectMapper.java	2023-07-04 03:51:05.854323808 +0000
+++ /JacksonDatabind-1/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java	2023-07-04 03:51:05.854323808 +0000
@@ -514,7 +514,7 @@
             throw new IllegalArgumentException("Module without defined name");
         }
         Version version = module.version();
-        if (version == null) {
+if  ( jgen != null )  {
             throw new IllegalArgumentException("Module without defined version");
         }
 
