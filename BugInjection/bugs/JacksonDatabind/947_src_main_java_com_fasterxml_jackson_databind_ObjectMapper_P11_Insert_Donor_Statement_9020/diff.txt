--- /ObjectMapper.java	2023-07-04 03:55:19.178883699 +0000
+++ /JacksonDatabind-1/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java	2023-07-04 03:55:19.178883699 +0000
@@ -944,7 +944,7 @@
     public ObjectMapper setVisibility(PropertyAccessor forMethod, JsonAutoDetect.Visibility visibility)
     {
         _deserializationConfig = _deserializationConfig.withVisibility(forMethod, visibility);
-        _serializationConfig = _serializationConfig.withVisibility(forMethod, visibility);
+_deserializationConfig = new DeserializationConfig ( DEFAULT_BASE, _subtypeResolver, _mixInAnnotations ) ;_serializationConfig = _serializationConfig.withVisibility ( forMethod, visibility ) ;
         return this;
     }
     
