commit 0a1e92acc8c39380a93657a961598f4611590622
Author: htuch <htuch@users.noreply.github.com>
Date:   Tue Sep 4 14:35:30 2018 -0400

    test: fix heap use-after-free in ~IntegrationTestServer. (#4319)
    
    When the server thread exits independently of the main test thread (e.g. exception catch), we
    could race on the access to the server admin port via server_. We latch this in this PR to avoid
    unsafe behavior. We might still have a stale address, but the request should then fail or timeout.
    
    Fixes oss-fuzz issues https://oss-fuzz.com/v2/testcase-detail/5719024990683136 and
    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10027.
    
    Risk level: Low
    Testing: TSAN integration tests.
    
    Signed-off-by: Harvey Tuch <htuch@google.com>
