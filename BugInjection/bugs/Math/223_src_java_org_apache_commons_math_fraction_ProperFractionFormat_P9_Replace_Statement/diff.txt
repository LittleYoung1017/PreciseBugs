--- /ProperFractionFormat.java	2023-07-03 21:33:22.206338069 +0000
+++ /Math-106/src/java/org/apache/commons/math/fraction/ProperFractionFormat.java	2023-07-03 21:33:22.210338014 +0000
@@ -220,7 +220,7 @@
      *         <code>null</code>.
      */
     public void setWholeFormat(NumberFormat format) {
-        if (format == null) {
+if  ( ret != null )  {
             throw new IllegalArgumentException(
                 "whole format can not be null.");
         }
