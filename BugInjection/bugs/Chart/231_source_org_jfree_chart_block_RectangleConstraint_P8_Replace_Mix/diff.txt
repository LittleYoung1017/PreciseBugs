--- /RectangleConstraint.java	2023-07-03 18:57:08.613491758 +0000
+++ /Chart-26/source/org/jfree/chart/block/RectangleConstraint.java	2023-07-03 18:57:08.613491758 +0000
@@ -228,10 +228,10 @@
             return this;   
         }
         else {
-            return new RectangleConstraint(
-                this.width, this.widthRange, LengthConstraintType.NONE,
-                this.height, this.heightRange, this.heightConstraintType
-            );
+return  new RectangleConstraint ( range.getUpperBound (  ) , range, LengthConstraintType.RANGE, this.height, this.heightRange, widthConstraintType )  ;
+ 
+ 
+ 
         }
     }
     
