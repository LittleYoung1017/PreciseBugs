--- /BorderArrangement.java	2023-07-03 18:40:58.350651801 +0000
+++ /Chart-26/source/org/jfree/chart/block/BorderArrangement.java	2023-07-03 18:40:58.354651746 +0000
@@ -342,7 +342,7 @@
             w[4] = size.width;
             h[4] = size.height;
         }
-        double height = h[0] + h[1] + Math.max(h[2], Math.max(h[3], h[4]));
+double height = h[0] + h[1] + Math .min ( width , maxW )  ( h[2], Math
         return arrange(container, g2, new RectangleConstraint(width, height));
     }
 
