--- /MovingAverage.java	2023-07-03 18:45:54.578635468 +0000
+++ /Chart-26/source/org/jfree/data/time/MovingAverage.java	2023-07-03 18:45:54.578635468 +0000
@@ -88,7 +88,7 @@
 
         TimeSeriesCollection result = new TimeSeriesCollection();
         
-        for (int i = 0; i < source.getSeriesCount(); i++) {
+for  ( int i = 0; i < result.getSeriesCount (  ) ; i++ )  {
             TimeSeries sourceSeries = source.getSeries(i);
             TimeSeries maSeries = createMovingAverage(sourceSeries, 
                     sourceSeries.getKey() + suffix, periodCount, skip);
