commit 44174fb825deadf8ee58d6890a3aec40febc3ab0
Author: John Stiles <johnstiles@google.com>
Date:   Tue Jul 26 11:22:29 2022 -0400

    Fix no-op arithmetic simplification for mat-op-scal expressions.
    
    The original CL didn't consider matrix-op-scalar expressions and missed
    several issues.
    
    First, cast_expression did not know how to convert a scalar into a
    diagonal matrix. This happens when doing `scalar * float4x4(1.0)`.
    
    Also, scalar ops other than multiplication apply to a matrix as a
    splat, so things like `scalar + float4x4(0.0)` don't generate a
    diagonal matrix--they generate a splat matrix. There's no gadget
    in GLSL or SkSL which splats a scalar across a matrix more efficiently
    than the expression we started with, so we no longer attempt to rewrite
    these at all.
    
    Added additional tests and split into separate files.
    
    Change-Id: If1b67795c04abf0fb2af22d03940e26e97f8d1e7
    Bug: oss-fuzz:49365
    Reviewed-on: https://skia-review.googlesource.com/c/skia/+/561757
    Auto-Submit: John Stiles <johnstiles@google.com>
    Commit-Queue: Brian Osman <brianosman@google.com>
    Reviewed-by: Brian Osman <brianosman@google.com>
