--- /MovingAverage.java	2023-07-03 18:46:07.998453551 +0000
+++ /Chart-26/source/org/jfree/data/time/MovingAverage.java	2023-07-03 18:46:07.998453551 +0000
@@ -157,7 +157,7 @@
                             RegularTimePeriod p = item.getPeriod();
                             Number v = item.getValue();
                             long currentIndex = p.getSerialIndex();
-                            if (currentIndex > serialLimit) {
+if  ( xx > limit )  {     if  ( yy != null )  {         sum = sum +  ( yy.doubleValue (  )  ) ;         n = n + 1;     } }else {     finished = true; }
                                 if (v != null) {
                                     sum = sum + v.doubleValue();
                                     n = n + 1;
