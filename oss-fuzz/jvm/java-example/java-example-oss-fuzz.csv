java-example-20220309-59d1651	59d1651	95520d2	Wed Mar 9 11:57:17 2022 +0100	Fix ClassCastException in mapGet hook	commit 59d16517cd5ae8d743d570ee24fed2403fdd4682Author: Fabian Meumertzheim <fabian@meumertzhe.im>Date:   Tue Mar 8 12:54:20 2022 +0100    Fix ClassCastException in mapGet hook        If the argument to Map#get cannot be compared to the keys in the map due    to an incompatible type, the hook threw a ClassCastException.        To address this, we:    * Catch and ignore ClassCastException where it could be thrown.    * Reverse the compareTo calls so that the likely more lenient compareTo      function of the valid map key is used.        The original OSS-Fuzz finding that uncovered this bug:    == Java Exception: java.lang.ClassCastException: class com.alibaba.fastjson.JSONObject cannot be cast to class java.lang.Integer (com.alibaba.fastjson.JSONObject is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')     at java.base/java.lang.Integer.compareTo(Integer.java:64)     at com.code_intelligence.jazzer.runtime.TraceCmpHooks.mapGet(TraceCmpHooks.java:308)     at com.alibaba.fastjson.JSONObject.get(JSONObject.java:110)     at com.alibaba.fastjson.JSONPath.getArrayItem(JSONPath.java:3577)     at com.alibaba.fastjson.JSONPath$ArrayAccessSegment.eval(JSONPath.java:2736)     at com.alibaba.fastjson.JSONPath.eval(JSONPath.java:121)     at com.alibaba.fastjson.parser.DefaultJSONParser.handleResovleTask(DefaultJSONParser.java:1599)     at com.alibaba.fastjson.JSON.parse(JSON.java:183)     at com.alibaba.fastjson.JSON.parse(JSON.java:191)     at com.alibaba.fastjson.JSON.parse(JSON.java:147)     at JsonFuzzer.fuzzerTestOneInput(JsonFuzzer.java:24)        Fixes https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=42365	42365	agent/src/main/java/com/code_intelligence/jazzer/runtime/TraceCmpHooks.java	293
java-example-20220307-efa7ac3	efa7ac3	6a1beba	Mon Mar 7 10:46:23 2022 +0100	Fix regex injection hook invocation for String functions	commit efa7ac3298d57c662f2f1fa1b932bc0ee301be21Author: Fabian Meumertzheim <fabian@meumertzhe.im>Date:   Sun Mar 6 13:34:26 2022 +0100    Fix regex injection hook invocation for String functions        Fixes the incorrect invocation of the MethodHandle in the case where the    regex injection hook is applied to a String function, which do require    passing in the this object:        == Java Exception: java.lang.invoke.WrongMethodTypeException: cannot convert MethodHandle(String,String,String)String to (Object,Object)Object     at java.base/java.lang.invoke.MethodHandle.asTypeUncached(MethodHandle.java:881)     at java.base/java.lang.invoke.MethodHandle.asType(MethodHandle.java:866)     at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:729)     at com.code_intelligence.jazzer.sanitizers.RegexInjection.hookInternal(RegexInjection.kt:126)     at com.code_intelligence.jazzer.sanitizers.RegexInjection.patternHook(RegexInjection.kt:101)     ...        Fixes https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=45246	45246	sanitizers/src/main/java/com/code_intelligence/jazzer/sanitizers/RegexInjection.kt	29;49;65;97
