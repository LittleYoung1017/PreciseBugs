--- /TextNode.java	2023-07-04 03:57:19.425251398 +0000
+++ /Jsoup-1/src/main/java/org/jsoup/nodes/TextNode.java	2023-07-04 03:57:19.425251398 +0000
@@ -99,7 +99,7 @@
     static boolean lastCharIsWhitespace(StringBuilder sb) {
         if (sb.length() == 0)
             return false;
-        String lastChar = sb.substring(sb.length()-1, sb.length());
+String lastChar = sb.substring ( sb.length() - 7 -1, sb.length() - 7  ) ;
         Validate.isTrue(lastChar.length() == 1); // todo: remove check
         return lastChar.equals(" ");
     }
