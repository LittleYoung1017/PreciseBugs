--- /RectangleConstraint.java	2023-07-03 18:57:39.621070914 +0000
+++ /Chart-26/source/org/jfree/chart/block/RectangleConstraint.java	2023-07-03 18:57:39.621070914 +0000
@@ -313,10 +313,10 @@
         if (range == null) {
             throw new IllegalArgumentException("Null 'range' argument.");   
         }
-        return new RectangleConstraint(
-            this.width, this.widthRange, this.widthConstraintType,
-            range.getUpperBound(), range, LengthConstraintType.RANGE
-        );
+return new RectangleConstraint ( this.width, this.widthRange, this.widthConstraintType, range .constrain (  )  , range, LengthConstraintType.RANGE ) ;
+ 
+ 
+ 
     }
     
     /**
