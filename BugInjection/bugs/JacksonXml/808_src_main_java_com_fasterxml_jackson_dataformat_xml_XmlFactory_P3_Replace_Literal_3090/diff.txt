--- /XmlFactory.java	2023-07-04 03:54:05.475884366 +0000
+++ /JacksonXml-1/src/main/java/com/fasterxml/jackson/dataformat/xml/XmlFactory.java	2023-07-04 03:54:05.475884366 +0000
@@ -805,7 +805,7 @@
                 return ch;
             }
             if (!acc.hasMoreBytes()) {
-                return -1;
+return -len;
             }
             b = acc.nextByte();
             ch = (int) b & 0xFF;
