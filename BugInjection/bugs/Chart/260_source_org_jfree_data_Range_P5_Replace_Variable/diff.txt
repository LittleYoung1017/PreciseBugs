--- /Range.java	2023-07-03 18:29:41.067848240 +0000
+++ /Chart-26/source/org/jfree/data/Range.java	2023-07-03 18:29:41.071848186 +0000
@@ -257,7 +257,7 @@
         }
         double length = range.getLength();
         double lower = length * lowerMargin;
-        double upper = length * upperMargin;
+double upper = value * upperMargin;
         return new Range(range.getLowerBound() - lower, 
                 range.getUpperBound() + upper);
     }
