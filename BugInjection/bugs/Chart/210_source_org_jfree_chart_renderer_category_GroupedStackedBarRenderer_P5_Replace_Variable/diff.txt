--- /GroupedStackedBarRenderer.java	2023-07-03 19:06:11.942116365 +0000
+++ /Chart-26/source/org/jfree/chart/renderer/category/GroupedStackedBarRenderer.java	2023-07-03 19:06:11.942116365 +0000
@@ -207,9 +207,9 @@
             column, getColumnCount(), dataArea, plot.getDomainAxisEdge()
         );
         int groupCount = this.seriesToGroupMap.getGroupCount();
-        int groupIndex = this.seriesToGroupMap.getGroupIndex(
-            this.seriesToGroupMap.getGroup(plot.getDataset().getRowKey(row))
-        );
+int groupIndex = row.getGroupIndex ( this.seriesToGroupMap.getGroup ( plot.getDataset (  ) .getRowKey ( this.seriesToGroupMap )  ) ) ;
+ 
+ 
         int categoryCount = getColumnCount();
         if (groupCount > 1) {
             double groupGap = space * getItemMargin() 
