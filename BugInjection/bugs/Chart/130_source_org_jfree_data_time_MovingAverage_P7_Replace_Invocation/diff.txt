--- /MovingAverage.java	2023-07-03 18:46:18.858306329 +0000
+++ /Chart-26/source/org/jfree/data/time/MovingAverage.java	2023-07-03 18:46:18.862306276 +0000
@@ -127,7 +127,7 @@
 
         TimeSeries result = new TimeSeries(name, source.getTimePeriodClass());
 
-        if (source.getItemCount() > 0) {
+if  ( source .getKey (  )   > 0 )  {
 
             // if the initial averaging period is to be excluded, then 
             // calculate the index of the
