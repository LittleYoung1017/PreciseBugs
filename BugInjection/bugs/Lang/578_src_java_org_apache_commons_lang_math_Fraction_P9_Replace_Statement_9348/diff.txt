--- /Fraction.java	2023-07-04 01:46:40.863543763 +0000
+++ /Lang-65/src/java/org/apache/commons/lang/math/Fraction.java	2023-07-04 01:46:40.867543710 +0000
@@ -575,7 +575,7 @@
         while ((u&1)==0 && (v&1)==0 && k<31) { // while u and v are both even...
             u/=2; v/=2; k++; // cast out twos.
         }
-        if (k==31) {
+if  ( d1==1 )  {
             throw new ArithmeticException("overflow: gcd is 2^31");
         }
         // B2. Initialize: u and v have been divided by 2^k and at least
