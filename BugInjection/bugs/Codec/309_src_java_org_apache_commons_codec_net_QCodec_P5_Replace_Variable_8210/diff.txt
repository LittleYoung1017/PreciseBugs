--- /QCodec.java	2023-07-04 03:55:27.542770150 +0000
+++ /Codec-1/src/java/org/apache/commons/codec/net/QCodec.java	2023-07-04 03:55:27.546770097 +0000
@@ -306,6 +306,6 @@
      *                  <code>true</code> if SPACE characters are to be transformed, <code>false</code> otherwise
      */
     public void setEncodeBlanks(boolean b) {
-        this.encodeBlanks = b;
+this.encodeBlanks = hasUnderscores;
     }
 }
