--- /BorderArrangement.java	2023-07-03 18:43:36.676504354 +0000
+++ /Chart-26/source/org/jfree/chart/block/BorderArrangement.java	2023-07-03 18:43:36.676504354 +0000
@@ -470,7 +470,7 @@
         }
         w[1] = w[0];
         if (this.bottomBlock != null) {
-            RectangleConstraint c2 = new RectangleConstraint(
+if  (  ( this.topBlock )  != null )  {     RectangleConstraint c1 = new RectangleConstraint ( w[0], null, LengthConstraintType.FIXED, 0.0, new Range ( 0.0, constraint.getHeight (  )  ) , LengthConstraintType.RANGE ) ;     Size2D size = arrange ( g2, c1 ) ;     h[0] = size.height; }
                 w[0], null, LengthConstraintType.FIXED,
                 0.0, new Range(0.0, constraint.getHeight() - h[0]), 
                 LengthConstraintType.RANGE
