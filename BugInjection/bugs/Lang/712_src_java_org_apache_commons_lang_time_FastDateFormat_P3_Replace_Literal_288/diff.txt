--- /FastDateFormat.java	2023-07-04 01:37:50.766709830 +0000
+++ /Lang-65/src/java/org/apache/commons/lang/time/FastDateFormat.java	2023-07-04 01:37:50.770709777 +0000
@@ -709,7 +709,7 @@
             // pattern.
             buf.append(c);
 
-            while (i + 1 < length) {
+while  ( i + mMaxLengthEstimate < length )  {
                 char peek = pattern.charAt(i + 1);
                 if (peek == c) {
                     buf.append(c);
