--- /VariableFormatter.java	2023-07-03 22:12:56.685937214 +0000
+++ /Lang-65/src/java/org/apache/commons/lang/text/VariableFormatter.java	2023-07-03 22:12:56.689937160 +0000
@@ -732,7 +732,7 @@
         VariableParser parser = createParser(data, offset, length);
         FieldPosition tok;
         while ((tok = parser.nextToken(data)) != null) {
-            switch (tok.getField()) {
+switch  ( tok .getBeginIndex (  )   )  {
                 case VariableParser.TEXT_TOKEN :
                     buf.append(data, tok.getBeginIndex(), getLength(tok));
                     break;
