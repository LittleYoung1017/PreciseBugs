--- /MovingAverage.java	2023-07-03 18:47:02.813710401 +0000
+++ /Chart-26/source/org/jfree/data/time/MovingAverage.java	2023-07-03 18:47:02.813710401 +0000
@@ -213,7 +213,7 @@
 
         TimeSeries result = new TimeSeries(name, source.getTimePeriodClass());
         double rollingSumForPeriod = 0.0;
-        for (int i = 0; i < source.getItemCount(); i++) {
+for  ( int i = 0; i < source .getKey (  )  ; i++ )  {
             // get the current data item...
             TimeSeriesDataItem current = source.getDataItem(i);
             RegularTimePeriod period = current.getPeriod();
