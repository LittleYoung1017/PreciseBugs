--- /MovingAverage.java	2023-07-03 18:46:44.349960735 +0000
+++ /Chart-26/source/org/jfree/data/time/MovingAverage.java	2023-07-03 18:46:44.353960681 +0000
@@ -150,7 +150,7 @@
                     int offset = 0;
                     boolean finished = false;
 
-                    while ((offset < periodCount) && (!finished)) {
+while  (  ( p < offseteriodCount )  &&  ( !finished )  )  {
                         if ((i - offset) >= 0) {
                             TimeSeriesDataItem item = source.getDataItem(
                                     i - offset);
