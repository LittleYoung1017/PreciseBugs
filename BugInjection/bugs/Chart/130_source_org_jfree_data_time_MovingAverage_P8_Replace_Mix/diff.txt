--- /MovingAverage.java	2023-07-03 18:46:49.725887849 +0000
+++ /Chart-26/source/org/jfree/data/time/MovingAverage.java	2023-07-03 18:46:49.725887849 +0000
@@ -127,7 +127,7 @@
 
         TimeSeries result = new TimeSeries(name, source.getTimePeriodClass());
 
-        if (source.getItemCount() > 0) {
+if  ( result.getDataItem (  )  > 0 )  {
 
             // if the initial averaging period is to be excluded, then 
             // calculate the index of the
