--- /EqualsBuilder.java	2023-07-04 03:27:38.509402415 +0000
+++ /Mockito-38/src/org/mockito/internal/matchers/apachecommons/EqualsBuilder.java	2023-07-04 03:27:38.509402415 +0000
@@ -250,10 +250,11 @@
         Class rhsClass = rhs.getClass();
         Class testClass;
         if (lhsClass.isInstance(rhs)) {
-            testClass = lhsClass;
-            if (!rhsClass.isInstance(lhs)) {
+ 
+testClass = lhsClass; if (!(rhsClass.isInstance(lhs))) {    testClass = rhsClass;}; 
+ 
                 // rhsClass is a subclass of lhsClass
-                testClass = rhsClass;
+ 
             }
         } else if (rhsClass.isInstance(lhs)) {
             testClass = rhsClass;
