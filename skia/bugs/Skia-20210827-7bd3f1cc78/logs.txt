commit 7bd3f1cc7822ca8a545ecc0e56dddb5390ab1821
Author: John Stiles <johnstiles@google.com>
Date:   Fri Aug 27 16:12:10 2021 -0400

    Fix fuzzer-discovered assertion with global variables.
    
    Our analysis pass for checking if an expression is a constant-expression
    would assert if the expression contained a TypeReference or a
    FunctionReference. This could happen if you passed in an expression that
    had not yet been type-coerced. This check seemed overly strict, so the
    assertion has been removed (although such an expression will be reported
    as 'not a constant expression').
    
    This bit us in global-variable declaration, where we checked if a
    global variable's initial-value expression was constant before coercing
    it to the variable's type. This has also been reordered so the type-
    coercion happens first. (Either order is now valid, but the type-
    coercion related errors tend to be more detailed.)
    
    Change-Id: I5104cf817767d65fd84421243d9530734ba624a9
    Bug: oss-fuzz:37710
    Reviewed-on: https://skia-review.googlesource.com/c/skia/+/442693
    Commit-Queue: John Stiles <johnstiles@google.com>
    Auto-Submit: John Stiles <johnstiles@google.com>
    Reviewed-by: Ethan Nicholas <ethannicholas@google.com>
