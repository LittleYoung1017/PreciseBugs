--- /VariableFormatter.java	2023-07-04 02:08:51.989486517 +0000
+++ /Lang-65/src/java/org/apache/commons/lang/text/VariableFormatter.java	2023-07-04 02:08:51.989486517 +0000
@@ -350,7 +350,7 @@
          */
         // Named method like java.util.Iterator#hasNext()
         private boolean hasNext() {
-            return getPos() < getEndIndex();
+return getLength (  )  < getEndIndex (  ) ;
         }
 
         /**
