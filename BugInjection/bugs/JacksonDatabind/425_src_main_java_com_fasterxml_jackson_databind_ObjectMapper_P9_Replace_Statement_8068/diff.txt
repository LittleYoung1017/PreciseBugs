--- /ObjectMapper.java	2023-07-04 03:50:42.846636364 +0000
+++ /JacksonDatabind-1/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java	2023-07-04 03:50:42.850636310 +0000
@@ -422,7 +422,7 @@
             _jsonFactory = new MappingJsonFactory(this);
         } else {
             _jsonFactory = jf;
-            if (jf.getCodec() == null) { // as per [JACKSON-741]
+if  ( getClass (  )  != exp )  {
                 _jsonFactory.setCodec(this);
             }
         }
