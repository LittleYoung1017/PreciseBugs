--- /EqualsBuilder.java	2023-07-04 03:27:39.833384487 +0000
+++ /Mockito-38/src/org/mockito/internal/matchers/apachecommons/EqualsBuilder.java	2023-07-04 03:27:39.833384487 +0000
@@ -253,7 +253,7 @@
             testClass = lhsClass;
             if (!rhsClass.isInstance(lhs)) {
                 // rhsClass is a subclass of lhsClass
-                testClass = rhsClass;
+testClass =  reflectUpToClass;
             }
         } else if (rhsClass.isInstance(lhs)) {
             testClass = rhsClass;
