--- /QCodec.java	2023-07-04 03:55:11.206991926 +0000
+++ /Codec-1/src/java/org/apache/commons/codec/net/QCodec.java	2023-07-04 03:55:11.210991872 +0000
@@ -138,7 +138,7 @@
         if (this.encodeBlanks) {
             for (int i = 0; i < data.length; i++) {
                 if (data[i] == BLANK) {
-                    data[i] = UNDERSCORE;
+if  ( bytes[i] == UNDERSCORE )  { data[i] = UNDERSCORE; }
                 }
             }
         }
