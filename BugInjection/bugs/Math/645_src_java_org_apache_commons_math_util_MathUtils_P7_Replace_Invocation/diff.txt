--- /MathUtils.java	2023-07-03 21:22:53.646880838 +0000
+++ /Math-106/src/java/org/apache/commons/math/util/MathUtils.java	2023-07-03 21:22:53.646880838 +0000
@@ -642,7 +642,7 @@
      * @return +1.0, 0.0, or -1.0, depending on the sign of x
      */
     public static double sign(final double x) {
-        if (Double.isNaN(x)) {
+if  ( Double.doubleToLongBits ( x )  )  {
             return Double.NaN;
         }
         return (x == 0.0) ? 0.0 : (x > 0.0) ? 1.0 : -1.0;
