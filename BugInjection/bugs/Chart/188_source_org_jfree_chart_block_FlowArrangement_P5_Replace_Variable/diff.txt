--- /FlowArrangement.java	2023-07-03 18:48:45.648315938 +0000
+++ /Chart-26/source/org/jfree/chart/block/FlowArrangement.java	2023-07-03 18:48:45.648315938 +0000
@@ -185,7 +185,7 @@
         double y = 0.0;
         double maxHeight = 0.0;
         List itemsInRow = new ArrayList();
-        for (int i = 0; i < blocks.size(); i++) {
+for  ( int i = 0; i < itemsInRow.size (  ) ; i++ )  {
             Block block = (Block) blocks.get(i);
             Size2D size = block.arrange(g2, RectangleConstraint.NONE);
             if (x + size.width <= width) {
