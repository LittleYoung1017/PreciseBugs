Gdal-20210817-a7de9b8f20	a7de9b8f20	68440033ec	Tue Aug 17 08:48:46 2021 -0700	Fix dns resolve fuzz bug (#17107)	commit a7de9b8f2061e01b54b2cca399128fa751dafdafAuthor: chaoqin-li1123 <55518381+chaoqin-li1123@users.noreply.github.com>Date:   Tue Aug 17 10:48:46 2021 -0500    Fix dns resolve fuzz bug (#17107)        The DNS resolver takes reference to a local variable as its member dns_resolver_options_, and may access invalid data during a DNS refresh, fix by copy the parameter in ctor of DnsResolverImpl.(https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=35272)        Signed-off-by: chaoqin-li1123 <chaoqinli@google.com>	35272	source/common/network/dns_impl.h;test/common/network/dns_impl_test.cc	107;441;0
Gdal-20210527-ffcfe049ec	ffcfe049ec	534a10299f	Thu May 27 09:11:24 2021 -0400	[fuzz]: fix oss fuzz bug 34650, validate server fuzz input for lb_subset_config (#16647)	commit ffcfe049ec4951a22a2be27c1909c7068a3a19e3Author: chaoqin-li1123 <55518381+chaoqin-li1123@users.noreply.github.com>Date:   Thu May 27 08:11:24 2021 -0500    [fuzz]: fix oss fuzz bug 34650, validate server fuzz input for lb_subset_config (#16647)        Commit Message: This pull request try to resolve fuzz bug(https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=34650), key of subset selector can't be empty when use_single_host_per_subset is set to true.    Additional Description:    Risk Level:    Testing:    Docs Changes:    Release Notes:    Platform Specific Features:        Signed-off-by: chaoqin-li1123 <chaoqinli@google.com>	34650	test/server/server_fuzz_test.cc	93
Gdal-20210112-445026ea03	445026ea03	9d1690da35	Tue Jan 12 20:58:35 2021 -0500	[fuzz] Fix bugs in HPACK fuzz test (#14638)	commit 445026ea03f34584e019b3f1471d8c2e56b98909Author: asraa <asraa@google.com>Date:   Tue Jan 12 20:58:35 2021 -0500    [fuzz] Fix bugs in HPACK fuzz test (#14638)        - Use after free because nghttp2_nv object has pointers to the underlying strings and copying them resulted in a use after free when the copy was used after the original was destroyed    - Fixed sorting issues and tested leading/trailing whitespace headers (I can no longer reproduce an issue I saw where a null byte appeared after decoding whitespace, maybe the former fix fixed this)        Risk Level: Low    Testing: Added regression tests and cases for whitespace headers        Fixes    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=28880    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=28869        Signed-off-by: Asra Ali <asraa@google.com>	28880	test/common/http/http2/hpack_fuzz_test.cc	0;0;8;25;56;78;90;108;127
Gdal-20201013-eb9af96cd3	eb9af96cd3	549acee6f6	Tue Oct 13 08:54:08 2020 -0400	router:  fix an invalid ASSERT when encoding metadata frames in the router. (#13511)	commit eb9af96cd317b823ee6822dc10aeb26d63e51608Author: asraa <asraa@google.com>Date:   Tue Oct 13 08:54:08 2020 -0400    router:  fix an invalid ASSERT when encoding metadata frames in the router. (#13511)        Commit Message: Fix an invalid ASSERT when encoding metadata frames in the router.    Additional Description:    METADATA frames can't end stream, so there must be data, trailers, or a reset stream frame to end the stream. The ASSERT was meant to verify that there is data following METADATA frames to end the stream (for example, in case a client sends headers only request and metadata is added, FM adds empty data to end the stream). However, trailers could also end the stream, or the client could send body later/never. The ASSERT is invalid.        The PR removes the ASSERT.        Open to suggestions to have an ASSERT, but I couldn't think of one that was worth it / could be detected here. "if we had a header only request before, ASSERT there is empty data", or "if there is no possibility of stream reset occurring at this stage, ASSERT there is data or trailers."        Risk Level: Low. This only affects the ASSERT, has no impact on traffic.    Testing: Integration test added as a regression. Fuzz testcase added.    Fixes:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=26238        Signed-off-by: Asra Ali <asraa@google.com>	26238	source/common/router/upstream_request.cc;test/integration/http2_integration_test.cc	440;0;568
Gdal-20200901-9af9afff54	9af9afff54	aa14b97b89	Tue Sep 1 15:46:05 2020 -0400	[fuzz] fix minor fuzz test bugs (#12903)	commit 9af9afff54e30cab45ad7a80565ed9e300cda019Author: asraa <asraa@google.com>Date:   Tue Sep 1 15:46:05 2020 -0400    [fuzz] fix minor fuzz test bugs (#12903)        Matcher API was moved recently, PGV validation wasn't moved to the new directory. This was the previous fix: #12289    Mock encoder callbacks never set a definition for addEncodedTrailers        Risk Level: Low    Testing: Added regression tests    Fixes:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=25163    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=25273        Signed-off-by: Asra Ali <asraa@google.com>	25163	api/envoy/config/common/matcher/v3/matcher.proto;api/envoy/config/common/matcher/v4alpha/matcher.proto;generated_api_shadow/envoy/config/common/matcher/v3/matcher.proto;generated_api_shadow/envoy/config/common/matcher/v4alpha/matcher.proto;test/extensions/filters/http/common/fuzz/uber_filter.cc;test/extensions/filters/http/common/fuzz/uber_filter.h	85;99;85;99;0;0;48;234;81
Gdal-20200820-aecd2459f7	aecd2459f7	c6bfd7f9f5	Thu Aug 20 20:25:21 2020 -0400	Fix OSS Fuzz crashes due to validation issues in RBAC Config (#12757)	commit aecd2459f70a8f7ce6032a0e8fc7e9a8d04e9798Author: Zach Reyes <39203661+zasweq@users.noreply.github.com>Date:   Thu Aug 20 20:25:21 2020 -0400    Fix OSS Fuzz crashes due to validation issues in RBAC Config (#12757)        Added validation that action enum is within range        Risk Level: low    Testing: passes added regression tests    Docs Changes: N/A    Release Notes: N/A        Fixes: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=24824&sort=-opened&can=1&q=proj%3Aenvoy%20status%3DNew        Signed-off-by: Zach Reyes <zasweq@google.com>	24824&sort=-opened&can=1&q=proj%3Aenvoy%20status%3DNew	api/envoy/config/rbac/v3/rbac.proto;api/envoy/config/rbac/v4alpha/rbac.proto;generated_api_shadow/envoy/config/rbac/v3/rbac.proto;generated_api_shadow/envoy/config/rbac/v4alpha/rbac.proto	101;100;101;100;0
Gdal-20200723-2539e0b787	2539e0b787	e1d7d8e14c	Thu Jul 23 08:05:12 2020 -0400	fuzz: fix crash into filter fuzz test (#12224)	commit 2539e0b7878e84b2f28b9766be7de120c3246580Author: Sam Flattery <44659644+samflattery@users.noreply.github.com>Date:   Thu Jul 23 13:05:12 2020 +0100    fuzz: fix crash into filter fuzz test (#12224)        Commit Message: Fix crash in filter fuzz test due to validation not running until after cleaning    since the input config message contains an Any field, validation is not run on it, so I added a check to make sure that there was at least one sink before trying to deference    Fixes: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=24301    Signed-off-by: Sam Flattery <samflattery@google.com>	24301	test/extensions/filters/http/common/fuzz/uber_filter.cc;test/extensions/filters/http/common/fuzz/uber_per_filter.cc	0;195;104;129
Gdal-20200708-773b8ca4bd	773b8ca4bd	17dd2da586	Wed Jul 8 19:14:29 2020 -0400	[fuzz] fix oss fuzz crashes due to validation  (#11919)	commit 773b8ca4bd861957b19f2c1154c1f308dde80022Author: Sam Flattery <44659644+samflattery@users.noreply.github.com>Date:   Thu Jul 9 00:14:29 2020 +0100    [fuzz] fix oss fuzz crashes due to validation  (#11919)        - add validation that an enum is within range    - add validation that a header is well formed        Risk Level: low    Testing: passes added regression tests    Docs Changes: N/A    Release Notes: N/A    Fixes:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=23879    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=23881        Signed-off-by: Sam Flattery <samflattery@google.com>	23879	api/envoy/config/route/v3/route_components.proto;api/envoy/config/route/v4alpha/route_components.proto;api/envoy/extensions/filters/http/header_to_metadata/v3/header_to_metadata.proto;api/envoy/extensions/filters/http/header_to_metadata/v4alpha/header_to_metadata.proto;generated_api_shadow/envoy/config/route/v3/route_components.proto;generated_api_shadow/envoy/config/route/v4alpha/route_components.proto;generated_api_shadow/envoy/extensions/filters/http/header_to_metadata/v3/header_to_metadata.proto;generated_api_shadow/envoy/extensions/filters/http/header_to_metadata/v4alpha/header_to_metadata.proto	275;274;78;78;274;274;78;78;0;0
Gdal-20200624-f190f05388	f190f05388	549d30ecc5	Wed Jun 24 09:22:01 2020 -0400	fuzz: fix oss crash on http utility function (#11687)	commit f190f05388ed4e0538c4006411e6554a60c0477dAuthor: Sam Flattery <44659644+samflattery@users.noreply.github.com>Date:   Wed Jun 24 14:22:01 2020 +0100    fuzz: fix oss crash on http utility function (#11687)        Commit Message: Fix crash on initializeAndValidateOptions fuzz test    the crash occurred because validateCustomSettingsParameters does not allow duplicate custom settings identifiers and the fuzzer fed it an input that had duplicates. fixed by catching expected exceptions from duplicate custom settings identifiers.    Fixes: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=23616        Signed-off-by: Sam Flattery <samflattery@google.com>	23616	test/common/http/utility_fuzz_test.cc	79
Gdal-20200619-019353e8aa	019353e8aa	cfb163d348	Fri Jun 19 17:09:47 2020 -0400	fuzz: fix oss-fuzz crash related to channelArgsFromConfig (#11641)	commit 019353e8aabd28da8c73204167997cf9e51220a5Author: Arthur Yan <55563955+arthuryan-k@users.noreply.github.com>Date:   Fri Jun 19 17:09:47 2020 -0400    fuzz: fix oss-fuzz crash related to channelArgsFromConfig (#11641)        Added regression test to server_corpus        Risk Level: Low    Testing: passes regression test that originally crashed on oss-fuzz    Docs Changes: N/A    Release Notes: N/A        Fixes: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=22824        Signed-off-by: Arthur Yan <arthuryan@google.com>	22824	api/envoy/config/core/v3/grpc_service.proto;api/envoy/config/core/v4alpha/grpc_service.proto	209;215
Gdal-20200610-aa0fc9db37	aa0fc9db37	97a271b863	Wed Jun 10 19:36:20 2020 -0400	[fuzz] fix fuzz crashes related to not implemented protos (#11385)	commit aa0fc9db37674570c22927b4ee4ccf394b1d475fAuthor: asraa <asraa@google.com>Date:   Wed Jun 10 19:36:20 2020 -0400    [fuzz] fix fuzz crashes related to not implemented protos (#11385)        Fixes crashes (panic: not reached) due to not implemented protos being fuzzed.        - load balancing policy LOAD_BALANCING_POLICY_CONFIG not implemented, causing server_fuzz_test to crash    - connect matcher not supported in Jwt authentication filter, but matcher available @qiwzhang        Risk Level: Low    Testing: Regression testcases added        Fixes OSS-fuzz issues    - https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=21876    - https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=17762        Signed-off-by: Asra Ali <asraa@google.com>	21876	api/envoy/config/cluster/v3/cluster.proto;api/envoy/config/cluster/v4alpha/cluster.proto;source/extensions/filters/http/jwt_authn/matcher.cc;test/extensions/filters/http/common/fuzz/BUILD;test/extensions/filters/http/common/fuzz/uber_per_filter.cc	590;591;154;43;1;73;99;107
Gdal-20200604-5030f92440	5030f92440	8d473a8baf	Thu Jun 4 15:40:18 2020 -0400	fix all filter fuzz bugs (#11422)	commit 5030f92440b2d17dcca193c37178ec0d8aa06097Author: asraa <asraa@google.com>Date:   Thu Jun 4 15:40:18 2020 -0400    fix all filter fuzz bugs (#11422)        Closes fuzz bugs related to configuration and test issues in filter_fuzz_test        * Require that encodeComplete() is called after end_stream/trailers per the HCM/filter contract. Otherwise, you run into destruction issues.    * TAP configuration can't use unimplemented TapDS configuration. Had to enforce in code because it's a oneof, which can only be constrained to be required    * Squash filter configuration requires some JSON attachment template. Scrubbed if invalid JSON        Risk Level: Low    Testing: Regression corpuses added, fuzzer runs for a 2 minutes    Fixes OSS-fuzz issues:    * https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=18938    * https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=20844    * https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=22428        Signed-off-by: Asra Ali <asraa@google.com>	18938	test/extensions/filters/http/common/fuzz/BUILD;test/extensions/filters/http/common/fuzz/uber_filter.cc;test/extensions/filters/http/common/fuzz/uber_per_filter.cc	36;124;138;155;1;70
Gdal-20200602-f7a63f14c8	f7a63f14c8	67649af8d4	Tue Jun 2 18:57:18 2020 -0700	[fuzz] fix ext authz send (#11351)	commit f7a63f14c8159b25bbd90561098cadd7fc68cb94Author: asraa <asraa@google.com>Date:   Tue Jun 2 21:57:18 2020 -0400    [fuzz] fix ext authz send (#11351)        Commit Message: Fixes a fuzz-only bug where on clean-up, the ext authz client `request_` was cancelled, but `request_` was never set because the call was mocked out.        Additional Description: Attempting to cancel a nullptr request would never happen in practice, because cancelling the request only occurs when the filter is in the middle of calling. The cases where `check` doesn't end up sending the request (for eg cluster no longer exists) appropriately change the state to complete.        Fixes issue: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=22566    Risk level: Low    Testing: added corpus entry        Signed-off-by: Asra Ali <asraa@google.com>	22566	test/extensions/filters/http/common/fuzz/uber_filter.cc;test/extensions/filters/http/common/fuzz/uber_filter.h;test/extensions/filters/http/common/fuzz/uber_per_filter.cc	13;59;83
Gdal-20200323-1ccbb2d7d2	1ccbb2d7d2	923317f826	Mon Mar 23 11:11:17 2020 -0400	fuzz: fix stream reset handling in codec_impl_fuzz_test. (#10452)	commit 1ccbb2d7d24cbcf1f3043ec5b413d877a455d8cfAuthor: htuch <htuch@users.noreply.github.com>Date:   Mon Mar 23 11:11:17 2020 -0400    fuzz: fix stream reset handling in codec_impl_fuzz_test. (#10452)        This started to trip assertions around multiple in-flight streams in the H1 codec after recent    refactors.        Fixes oss-fuzz bug: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=21277        Risk level: Low    Testing: Corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	21277	test/common/http/codec_impl_fuzz_test.cc	132
Gdal-20200225-855b2a359a	855b2a359a	b6d1fecfd2	Tue Feb 25 15:24:20 2020 -0800	[api] [fuzz] fix many header related config fuzz bugs (#10093)	commit 855b2a359a7133fd559ddbd757be4c0963cd8a73Author: asraa <asraa@google.com>Date:   Tue Feb 25 18:24:20 2020 -0500    [api] [fuzz] fix many header related config fuzz bugs (#10093)        This change includes validations on header names and values that appear in config fields. This prevents setting header keys/values with invalid characters in config fields, which pops up as ASSERT failures when converting to HeaderString values.        For reference, the well_known_regex for the header names and values do the following:    - HTTP_HEADER_NAME: whitelists alphanums and the whitelisted tokens (`!#$%&'*+-.^_|~\u0060`) in https://tools.ietf.org/html/rfc7230#section-3.2    - HTTP_HEADER_VALUE: blacklists control characters except SPC and TAB. Purposely meant to be permissive, and blacklist problems like nulls        Changes in `base.proto`    * Invalid headers to match (from [`HeaderValue`](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/api/v2/core/base.proto#L234) proto)      - `clusterfuzz-testcase-minimized-route_fuzz_test-5635252339343360`        Changes in `route_components.proto`:    * [domains](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/api/v2/route/route_components.proto#L75) with invalid control characters in `VirtualHost` config      - `clusterfuzz-testcase-minimized-route_fuzz_test-5699465522970624`    * Invalid [header_name](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/api/v2/route/route_components.proto#L604) in hash policy      - `clusterfuzz-testcase-minimized-route_fuzz_test-5634743613259776`    * Invalid control characters in [upgrade_type](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/api/v2/route/route_components.proto#L698) header      - `clusterfuzz-testcase-minimized-route_fuzz_test-5750746072481792`    * `RateLimit` message has a [header_name](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/api/v2/route/route_components.proto#L1273) field      - `clusterfuzz-testcase-minimized-route_fuzz_test-5206842068697088`    * Invalid [response_headers_to_add](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/api/v2/route/route_components.proto#L113) in      - `clusterfuzz-testcase-minimized-route_fuzz_test-4592245302362112`    * The [cluster_header](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/api/v2/route/route_components.proto#L723) change came up in a fuzz bug, but after that was fixed, the code ran in to another deeper issue to be fixed.    * The [name](https://github.com/envoyproxy/envoy/blob/bbdc33e53723dc02b6d51bb0f329c5b369adfe03/api/envoy/config/route/v3/route_components.proto#L1381) in `HeaderMatcher` message      - `clusterfuzz-testcase-minimized-route_fuzz_test-5635252339343360`        Changes in `custom_tag.proto`    * `CustomTag` has a [name](https://github.com/asraa/envoy/blob/88d35569818cb3a1236cce5d79299c4986ffdc77/api/envoy/type/tracing/v3/custom_tag.proto#L51)      - `clusterfuzz-testcase-minimized-route_fuzz_test-5661762636742656`        Changes in fuzz tests:    * `conn_manager_impl_fuzz_test` that fails on invalid characters in an authority header. this is not a config related change, just handled by replaced the invalid character in the fuzz test.       - `clusterfuzz-testcase-minimized-conn_manager_impl_fuzz_test-5714279517126656`    * `route_fuzz_test` was cleaned up now that a lot of the processing was moved to config.        Fixes:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=19923    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=16143 (most of)        Signed-off-by: Asra Ali <asraa@google.com>	19923	api/bazel/repository_locations.bzl;api/envoy/api/v2/core/base.proto;api/envoy/api/v2/route.proto;api/envoy/api/v2/route/route_components.proto;api/envoy/config/core/v3/base.proto;api/envoy/config/route/v3/route.proto;api/envoy/config/route/v3/route_components.proto;api/envoy/type/tracing/v2/custom_tag.proto;api/envoy/type/tracing/v3/custom_tag.proto;test/common/http/conn_manager_impl_fuzz_test.cc;test/common/router/header_parser_fuzz_test.cc;test/common/router/route_fuzz_test.cc;test/fuzz/utility.h	4;233;43;56;69;69;597;690;714;1263;1384;248;45;58;71;73;556;661;687;1245;1378;35;48;209;12;13;45;76
Gdal-20200102-b7dcf08387	b7dcf08387	f5085e6557	Thu Jan 2 14:54:17 2020 -0500	[fuzz] fix server test fuzz bugs (#9486)	commit b7dcf083876f5d34d0dde5df535989a81dfa8023Author: asraa <asraa@google.com>Date:   Thu Jan 2 14:54:17 2020 -0500    [fuzz] fix server test fuzz bugs (#9486)        Fixes server_fuzz_test fuzz bugs:        * QUIC upstream not implemented in prod, so the fuzzer removes the HTTP3 codec types for http health checks        * PGV validate throws a not yet implemented error on URIs. I removed this check for now and replaced with a TODO. If I catch the std::exception that is thrown and bypass it with a warning statement in the logs, we skip over other validations, which means that any fuzz test or user using this uri field will be in danger of failing because of other invalid fields @JimmyCYJ. PGV issue tracked: envoyproxy/protoc-gen-validate#303        Fixes OSS-Fuzz Issues:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=19614    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=19689        Signed-off-by: Asra Ali <asraa@google.com>	19614	api/envoy/api/v2/core/grpc_service.proto;api/envoy/api/v3alpha/core/grpc_service.proto;test/server/server_fuzz_test.cc	93;130;52
Gdal-20191210-b3f42a4ebb	b3f42a4ebb	75e768bc77	Tue Dec 10 06:34:19 2019 -0500	http: fix heap overflow vulnerability (CVE-2019-18801). (#75)	commit b3f42a4ebbd51e816cfde63ee672ce31e420602aAuthor: yanavlasov <yavlasov@google.com>Date:   Tue Dec 10 06:34:19 2019 -0500    http: fix heap overflow vulnerability (CVE-2019-18801). (#75)        Fixes oss-fuzz issue    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=18431.        Risk level: Low (no functional change).    Testing: Additional unit and integration tests added that cover the      :method header overflow case and adjacent behaviors. Corpus entry      added.        Signed-off-by: Harvey Tuch <htuch@google.com>	18431	source/common/http/http1/codec_impl.cc;test/common/http/http1/codec_impl_test.cc;test/common/http/http2/codec_impl_test.cc;test/integration/fake_upstream.h;test/integration/protocol_integration_test.cc;tools/check_spelling.sh;tools/spelling_skip_files.txt	305;358;559;1428;1090;24;437;1065;78
Gdal-20191106-b0a7a65d47	b0a7a65d47	8b27ef7d7d	Wed Nov 6 11:01:48 2019 -0500	fuzz: fix false positive in new_buffer_fuzz_test. (#8903)	commit b0a7a65d4754903b929409e314afc5f60dbff206Author: htuch <htuch@users.noreply.github.com>Date:   Wed Nov 6 11:01:48 2019 -0500    fuzz: fix false positive in new_buffer_fuzz_test. (#8903)        This was bad accounting of moved buffer size.        Fixes oss-fuzz issue    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=18452.        Risk level: Low    Testing: Corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	18452	test/common/buffer/buffer_fuzz.cc	322
Gdal-20191029-bf37452667	bf37452667	035b49cfa0	Tue Oct 29 12:57:09 2019 -0400	zlib: consume dev branch with timeouts/crashes fixes (#8788)	commit bf37452667a8f4b31028df17be0ee5e64b766f20Author: asraa <asraa@google.com>Date:   Tue Oct 29 12:57:09 2019 -0400    zlib: consume dev branch with timeouts/crashes fixes (#8788)        Consume zlib's dev branch instead of their v1.11.2.1 release branch. Many issues are fixed since their release from Jan 2017, including timeouts and out of bound errors reported by our fuzzers.    The dev branch is about 45 commits ahead of v1.11.2.1 release, making importing specific patches (probably 5-10 relevant to the issues we've seen so far), hard to keep up with.        Testing: Added all corpus entries for crashes and timeouts.    Fixes OSS-Fuzz issues:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=18379    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=18530    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=18423        Signed-off-by: Asra Ali <asraa@google.com>	18379	bazel/foreign_cc/zlib.patch;trees.c;bazel/repositories.bzl;bazel/repository_locations.bzl	1;870;315;155
Gdal-20191021-e6a52ce9fd	e6a52ce9fd	2b99b59789	Mon Oct 21 12:43:01 2019 -0700	fuzz: fix move max alloc handling in buffer_fuzz_test. (#8693)	commit e6a52ce9fd66f9177bd8143fcdf120c01a1fec01Author: htuch <htuch@users.noreply.github.com>Date:   Tue Oct 22 03:43:01 2019 +0800    fuzz: fix move max alloc handling in buffer_fuzz_test. (#8693)        Hopefully the last of these issues, was triggering asserts in    ClusterFuzz.        Fixes oss-fuzz issue    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=18354        Risk level: Low (test only)    Testing: Failing corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	18354	test/common/buffer/buffer_fuzz.cc	318
Gdal-20190820-5aede462bb	5aede462bb	d2e2cd6fa3	Tue Aug 20 13:13:50 2019 -0400	fuzz: codec impl timeout fix + speed ups (#7963)	commit 5aede462bb7fd8e39cd329fd270d3b74e7d7d39aAuthor: asraa <asraa@google.com>Date:   Tue Aug 20 13:13:50 2019 -0400    fuzz: codec impl timeout fix + speed ups (#7963)        Some speed-ups and validations for codec impl fuzz test:        * validate actions aren't empty (another approach would be to scrub / clean these)    * limit actions to 1024    * require oneofs        Fixes OSS-Fuzz Issue:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=16481    Testing: local asan/libfuzzer exec/sec go from 25 to 50        Signed-off-by: Asra Ali <asraa@google.com>	16481	test/common/http/codec_impl_fuzz.proto;test/common/http/codec_impl_fuzz_test.cc	0;4;30;56;16;420;502
Gdal-20190710-08dc244288	08dc244288	165290e19d	Wed Jul 10 17:19:15 2019 -0400	fuzz: fix filesystem bug, use std::__fs::filesystem (#7507)	commit 08dc2442882665d6e96262eaec03099a9a8f535dAuthor: asraa <asraa@google.com>Date:   Wed Jul 10 17:19:15 2019 -0400    fuzz: fix filesystem bug, use std::__fs::filesystem (#7507)        Since OSS-Fuzz minijail prohibits mkdir calls, we use std::__fs::filesystem namespace which implements filesystem.        The OSS-Fuzz image was taking the mkdir branch, since neither filesystem nor experimental/filesystem was found. However, we are able to use std::__fs::filesystem branch in the OSS-Fuzz image and the std::experimental::filesystem branch locally.        Risk Level: Low    Testing: Add RELEASE_ASSERT(1==0, "") under the #if defined(_LIBCPP_VERSION) && TEST_STD_VER < 17 branch to verify that branch is taken in oss-fuzz docker. run_fuzzer with oss-fuzz docker is successful.    Fixes OSS-Fuzz issue:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=15414        Signed-off-by: Asra Ali <asraa@google.com>	15414	test/test_common/environment.cc	3;41;84;97;112
Gdal-20190624-62cf5d8abf	62cf5d8abf	ad57ed8511	Mon Jun 24 16:04:56 2019 -0400	fuzz: fix filesystem crash (#7360)	commit 62cf5d8abf94e7c3d0faafbc1cf2c372b3a60e63Author: asraa <asraa@google.com>Date:   Mon Jun 24 16:04:56 2019 -0400    fuzz: fix filesystem crash (#7360)        Possible fix for filesystem crash in server fuzz test due to #7339        Testing: Add corpus entry    Issue    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=15414        Signed-off-by: Asra Ali <asraa@google.com>	15414	test/test_common/environment.cc	43;88;101;119
Gdal-20190611-ff960238f9	ff960238f9	4461f43111	Tue Jun 11 23:46:47 2019 -0400	fuzz: fix invalid headers in utility fuzz test (#7235)	commit ff960238f966e906d26ef0c21c89d7b52b174b9cAuthor: asraa <asraa@google.com>Date:   Tue Jun 11 23:46:47 2019 -0400    fuzz: fix invalid headers in utility fuzz test (#7235)        Replaces invalid characters in xff string.        Risk Level: Low    Testing: Add crashing corpus entry.        Referenced in oss-fuzz issue    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=15070        Signed-off-by: Asra Ali <asraa@google.com>	15070	test/common/http/utility_fuzz_test.cc	0;27
Gdal-20190611-76b944b2b8	76b944b2b8	3e0ee3c152	Tue Jun 11 13:30:51 2019 -0400	test: fix build failures by ignoring corpus generation on ppc build and clean headers (#7222)	commit 76b944b2b8df47755bf2ea4868caca42a0d8d54bAuthor: asraa <asraa@google.com>Date:   Tue Jun 11 13:30:51 2019 -0400    test: fix build failures by ignoring corpus generation on ppc build and clean headers (#7222)        Fix build failures by removing corpus generation from a binary when building on a ppc in route_fuzz_test and clean invalid characters from header entries in the fuzz test.        Risk Level: Low    Testing: Add crashing corpus entry.    Fixes bug:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=15070        Signed-off-by: Asra Ali <asraa@google.com>	15070	bazel/BUILD;test/common/router/BUILD;test/common/router/route_fuzz_test.cc	273;173;0;11
Gdal-20190604-9bdf99060f	9bdf99060f	1fdaf8e74f	Tue Jun 4 10:07:30 2019 -0700	fuzz: fix unitialized ptr to downstreamSslConnectionInfo in TestStreamInfo and add mock (#7155)	commit 9bdf99060fce442b025be7478357fdbb974ce993Author: asraa <asraa@google.com>Date:   Tue Jun 4 13:07:30 2019 -0400    fuzz: fix unitialized ptr to downstreamSslConnectionInfo in TestStreamInfo and add mock (#7155)        Initializes downstreamSslConnectionInfo pointer in TestStreamInfo and adds a mock object for it in fuzzers.    Fixes crash in:    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=15066        Risk Level: Low    Testing: Add a corpus entry with downstream info.        Signed-off-by: Asra Ali <asraa@google.com>	15066	test/common/access_log/access_log_formatter_fuzz_test.cc;test/common/router/header_parser_fuzz_test.cc;test/common/stream_info/test_util.h;test/fuzz/BUILD;test/fuzz/utility.h	10;0;20;207;51;4;50;73
Gdal-20190531-be6a483e2b	be6a483e2b	4b2b946b93	Fri May 31 17:35:42 2019 -0400	timer: fix oss-fuzz issue #11852 (#6982)	commit be6a483e2b2a47e3e353ed3e8e8db854fb6da87bAuthor: Ismo Puustinen <ismo.puustinen@intel.com>Date:   Sat Jun 1 00:35:42 2019 +0300    timer: fix oss-fuzz issue #11852 (#6982)        Fix a time conversion signed int overflow (https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=11852).        Risk Level: low    Testing: fuzz        Signed-off-by: Ismo Puustinen <ismo.puustinen@intel.com>	11852	source/common/event/timer_impl.cc;source/common/event/timer_impl.h;test/common/event/dispatcher_impl_test.cc	9;22;10;5;197;0
Gdal-20190312-5982d112a0	5982d112a0	1f9e2fd690	Tue Mar 12 11:11:34 2019 -0400	upstream: fix oss-fuzz issue #11095. (#6220)	commit 5982d112a0ec9ec2f7b4b7de1d51e86c33d77c1aAuthor: Ismo Puustinen <ismo.puustinen@intel.com>Date:   Tue Mar 12 17:11:34 2019 +0200    upstream: fix oss-fuzz issue #11095. (#6220)        Fix a crash found by oss-fuzz (see https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=11095). The bug is caused by trying to request IP information from a unix domain socket address.        Risk Level: low    Testing: local fuzzing and a regression test for HostDescriptionImpl constructor        Signed-off-by: Ismo Puustinen <ismo.puustinen@intel.com>	11095	source/common/upstream/upstream_impl.h;test/common/upstream/upstream_impl_test.cc;tools/spelling_dictionary.txt	69;866;0;522
Gdal-20190225-99696cda33	99696cda33	32bdce35d0	Mon Feb 25 17:41:56 2019 -0500	upstream: fix abort in ring hash lb's config parsing (#6054)	commit 99696cda3336af26fe0b048d91e0d6eb279bb81cAuthor: Dan Rosen <mergeconflict@google.com>Date:   Mon Feb 25 17:41:56 2019 -0500    upstream: fix abort in ring hash lb's config parsing (#6054)        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=13327        For ring hash lb, move all configuration parsing from Ring's ctor to the LB's ctor, where it's safe to throw exceptions from. Also, re-add proto field constraints to guard against extreme inputs from clusterfuzz and other actors of questionable intent.        Risk Level: Low    Testing: Added clusterfuzz testcase; existing tests still pass.        Signed-off-by: Dan Rosen <mergeconflict@google.com>	13327	api/envoy/api/v2/cds.proto;source/common/upstream/ring_hash_lb.cc;source/common/upstream/ring_hash_lb.h	402;431;19;131;177;49;0
Gdal-20190224-a0f91a9ffa	a0f91a9ffa	2f905d4427	Sun Feb 24 22:59:28 2019 -0500	fuzz: fix some buffer fuzz infrastructure bugs. (#6041)	commit a0f91a9ffa215c2039deccdb6eb01efbb151127dAuthor: htuch <htuch@users.noreply.github.com>Date:   Sun Feb 24 22:59:28 2019 -0500    fuzz: fix some buffer fuzz infrastructure bugs. (#6041)        Fixes oss-fuzz issues:    - https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=13267      (Make write actions more robust to implementation differences)    - https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=13324      https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=13268      (Bound memory allocations more tightly)        Risk level: Low    Testing: Corpus entries added.        Signed-off-by: Harvey Tuch <htuch@google.com>	13267	test/common/buffer/buffer_fuzz_test.cc;tools/spelling_dictionary.txt	0;0;33;143;164;187;207;286;309;328;344;154
Gdal-20190224-c9e01ed6db	c9e01ed6db	85c5271324	Sun Feb 24 21:38:44 2019 -0500	buffer: fix handling of empty string prepends. (#6042)	commit c9e01ed6db5de00099cb6daaf9e34612d8b5f302Author: htuch <htuch@users.noreply.github.com>Date:   Sun Feb 24 21:38:44 2019 -0500    buffer: fix handling of empty string prepends. (#6042)        Prepending an empty string seems to mess up libevent internally.    evbuffer_prepend doesn't have a check for empty (unlike evbuffer_prepend_buffer    which does). This then results in an allocation of an empty chain, which causes    problems with a following move/append. This only seems to happen the the    original buffer was created via addBufferFragment(), this forces the code    execution path in evbuffer_prepend related to immutable buffers.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=13263.        Risk level: Low    Testing: Corpus entry and unit test added.        Signed-off-by: Harvey Tuch <htuch@google.com>	13263	source/common/buffer/buffer_impl.cc;test/common/buffer/owned_impl_test.cc	44;0;186
Gdal-20190221-6ff86030be	6ff86030be	e2fe9a7774	Thu Feb 21 14:02:08 2019 -0500	config_validation/server: fix initialization order redux. (#6023)	commit 6ff86030be9e9ca078ad7a1e45616dcd2e45e6b7Author: htuch <htuch@users.noreply.github.com>Date:   Thu Feb 21 14:02:08 2019 -0500    config_validation/server: fix initialization order redux. (#6023)        Another heap-user-after-free, this time we were missing a fix that had been applied to server.h but    not config_validation/server.h (#4940). While working on this, attempted to make fully consistent and as    simple/clear as possible the constraints on member ordering.        This PR is in the tradition (!) of #5847, #4940, #4937. I think long-term we might want to think of    more dynamic and explicit declaration of ordering constraints, it's evidently pretty fragile. Also,    the lack of single-source-of-truth and duplication across prod and config server code bites again.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=13228.        Risk level: Low    Testing: Corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	13228	source/server/config_validation/server.h;source/server/server.cc;source/server/server.h	139;153;52;200;211;231;0
Gdal-20190214-7cc5244a83	7cc5244a83	9304b437a7	Thu Feb 14 16:50:39 2019 -0500	fuzz: fix false positives triggered by H1 codec fuzzer. (#5959)	commit 7cc5244a838e2af5a7e410a8d9c244fc65c02187Author: htuch <htuch@users.noreply.github.com>Date:   Thu Feb 14 16:50:39 2019 -0500    fuzz: fix false positives triggered by H1 codec fuzzer. (#5959)        This PR addresses oss-fuzz issues https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=13081.        This false positive (heap-use-after-free) resulted from a    misunderstanding around how we handle request/response encode/decoder    ownership.        As a bonus, fixed stream ID in corpus; it represents an index into the    list of created streams, not the HTTP/2 level stream ID.        Risk level: Low    Testing: Corpus entry added, validated under ASAN.        Signed-off-by: Harvey Tuch <htuch@google.com>	13081	test/common/http/codec_impl_corpus/clusterfuzz-testcase-minimized-codec_impl_fuzz_test-5635096546639872;test/common/http/codec_impl_corpus/example;test/common/http/codec_impl_corpus/multi_stream;test/common/http/codec_impl_corpus/reset_stream;test/common/http/codec_impl_fuzz.proto;test/common/http/codec_impl_fuzz_test.cc	58;463;0;66;74;83;91;108;116;124;132;140;153;161;174;182;176;184;193;201;218;84;92;101;109;126;27;80;119;246;257;428
Gdal-20190206-5fd128d638	5fd128d638	f2511a39cf	Wed Feb 6 18:23:29 2019 -0500	maglev: fix handling of unspecified locality weights. (#5863)	commit 5fd128d63810919840917bdf7da2d018edc5e32fAuthor: htuch <htuch@users.noreply.github.com>Date:   Wed Feb 6 18:23:29 2019 -0500    maglev: fix handling of unspecified locality weights. (#5863)        The config fuzzer showed that the locality weight assertion in    https://github.com/envoyproxy/envoy/pull/5831 was too strong. Extant behavior was and is that if    locality weight is not specified and locality LB weighting, we should just ignore the locality.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=12923.        Risk level: Low    Testing: Corpus entry and unit test added.        Signed-off-by: Harvey Tuch <htuch@google.com>	12923	api/envoy/api/v2/endpoint/endpoint.proto;source/common/upstream/maglev_lb.cc;test/common/upstream/maglev_lb_test.cc	111;26;52;151;187;0
Gdal-20181022-0f80888148	0f80888148	dc3c4616ae	Mon Oct 22 23:17:49 2018 -0400	date_formatter: fix keying bug in cached fromTime(). (#4814)	commit 0f80888148c581cb4d0c81aba40488d8507a4ca2Author: htuch <htuch@users.noreply.github.com>Date:   Mon Oct 22 23:17:49 2018 -0400    date_formatter: fix keying bug in cached fromTime(). (#4814)        Previously, two distinct format strings that mapped to identical intermediate representation with    ??? acting as placeholders would falsely share the same cached time format.        Also, as a bonus, used this as an opportuntiy to move towards TimeSource for DateFormatter.        Fixes oss-fuzz bug https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10109.        Risk Level: Low    Testing: Unit test and corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	10109	source/common/common/utility.cc;source/common/common/utility.h;source/common/http/date_provider_impl.cc;source/common/http/date_provider_impl.h;source/server/http/admin.cc;test/common/common/utility_test.cc;test/common/http/conn_manager_impl_fuzz_test.cc;test/common/http/conn_manager_impl_test.cc;test/extensions/filters/network/http_connection_manager/config_test.cc	66;89;122;158;201;25;33;84;10;30;18;50;964;836;118;320;0;46
Gdal-20181016-b61b28fe7a	b61b28fe7a	6ac936f275	Tue Oct 16 18:15:13 2018 -0400	health_check: fix divide-by-zero in retry interval calculations. (#4737)	commit b61b28fe7ae9927452477a0f4e337c53830a7070Author: htuch <htuch@users.noreply.github.com>Date:   Tue Oct 16 18:15:13 2018 -0400    health_check: fix divide-by-zero in retry interval calculations. (#4737)        A fuzz failure indicated a divide-by-zero in HealthCheckerImplBase::interval(). Beyond this, on    inspection, it seems we allow zero retry intervals, which can live lock the main thread. This PR    fixes these issues.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10786.        Risk Level: Low    Testing: Additional unit test and a corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	10786	api/envoy/api/v2/core/health_check.proto;docs/root/configuration/cluster_manager/cluster_runtime.rst;source/common/upstream/health_checker_base_impl.cc;test/common/upstream/health_checker_impl_test.cc;test/server/server_fuzz_test.cc	39;185;200;10;87;3;673;3311;0;62
Gdal-20181015-d331e481bf	d331e481bf	8607e912a1	Mon Oct 15 17:13:34 2018 -0400	outlier_detection: fix divide-by-zero in success rate processing. (#4731)	commit d331e481bf7d92f0b2824f006a29bd2349be1f41Author: htuch <htuch@users.noreply.github.com>Date:   Mon Oct 15 17:13:34 2018 -0400    outlier_detection: fix divide-by-zero in success rate processing. (#4731)        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10812.        Risk Level: Low    Testing: Unit test and corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	10812	source/common/upstream/outlier_detection_impl.cc;test/common/upstream/outlier_detection_impl_test.cc	412;523;0
Gdal-20181001-c04ed769e0	c04ed769e0	bcc7a96d9e	Mon Oct 1 10:07:45 2018 -0700	router: disallow :-prefixed custom header removal. (#4576)	commit c04ed769e0e97fedeaeee1f183b7d23437046b60Author: htuch <htuch@users.noreply.github.com>Date:   Mon Oct 1 13:07:45 2018 -0400    router: disallow :-prefixed custom header removal. (#4576)        This is the remove counterpart to https://github.com/envoyproxy/envoy/pull/4220.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10737.        Risk Level: Low    Testing: Unit test and corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	10737	source/common/router/header_parser.cc;test/common/router/config_impl_test.cc	240;1006;0
Gdal-20180910-fedaac992d	fedaac992d	cce8cf8b62	Mon Sep 10 11:44:09 2018 -0700	sds/dns: fix late SDS exception throw during c-ares callbacks. (#4377)	commit fedaac992dc7498cb8cb6b7f49025a5ef51df331Author: htuch <htuch@users.noreply.github.com>Date:   Mon Sep 10 14:44:09 2018 -0400    sds/dns: fix late SDS exception throw during c-ares callbacks. (#4377)        Previously, we only validated local info in SDS initialize(), which could happen during c-ares    resolution. This is too late to be throwing config validation exceptions, so instead do it at SdsApi    construction time.        Also, make sure we safely copy exception info for EnvoyExceptions; for libc++ in oss-fuzz,    attempting to copy/throw the exception in the post() was causing UBSAN failures.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10262.        Risk level: Low    Testing: Corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	10262	source/common/network/dns_impl.cc;source/common/secret/sds_api.cc	124;20;36;0
Gdal-20180904-0a1e92acc8	0a1e92acc8	cddc732c71	Tue Sep 4 14:35:30 2018 -0400	test: fix heap use-after-free in ~IntegrationTestServer. (#4319)	commit 0a1e92acc8c39380a93657a961598f4611590622Author: htuch <htuch@users.noreply.github.com>Date:   Tue Sep 4 14:35:30 2018 -0400    test: fix heap use-after-free in ~IntegrationTestServer. (#4319)        When the server thread exits independently of the main test thread (e.g. exception catch), we    could race on the access to the server admin port via server_. We latch this in this PR to avoid    unsafe behavior. We might still have a stale address, but the request should then fail or timeout.        Fixes oss-fuzz issues https://oss-fuzz.com/v2/testcase-detail/5719024990683136 and    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10027.        Risk level: Low    Testing: TSAN integration tests.        Signed-off-by: Harvey Tuch <htuch@google.com>	10027	test/integration/server.cc;test/integration/server.h	58;107;309
Gdal-20180831-1d34172bd0	1d34172bd0	1212423401	Fri Aug 31 10:41:27 2018 -0400	dns: fix exception unsafe behavior in c-ares callbacks. (#4307)	commit 1d34172bd058f31956741ec5f3346339fc624fd0Author: htuch <htuch@users.noreply.github.com>Date:   Fri Aug 31 10:41:27 2018 -0400    dns: fix exception unsafe behavior in c-ares callbacks. (#4307)        Previously, we were taking an exception due to the late validation of update_merge_window duration    in ClusterManagerImpl::scheduleUpdate, which happened under a c-ares strict DNS host resolution    callback. There are several related issues here:        1. c-ares is exception unsafe, see https://github.com/c-ares/c-ares/issues/219.    2. We should be validating Durations with PGV, see       https://github.com/lyft/protoc-gen-validate/issues/97.    3. We should defer the c-ares resolution callbacks to be outside the c-ares callback context for       exception safety.        This PR addresses (3) by moving callbacks, even when they are "immediate", to a dispatcher post, so    that we never take an exception under a c-ares callback.        A workaround for (2) is provided, in lieu of https://github.com/lyft/protoc-gen-validate/issues/97,    which is blocked on our ability to bump PGV version in Envoy, see    https://github.com/lyft/protoc-gen-star/issues/28.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=9868.        Risk level: Medium (DNS clusters will have some timing changes).    Testing: Updated DNS implementation unit tests, server fuzz corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	9868	include/envoy/network/dns.h;source/common/network/dns_impl.cc;source/common/network/dns_impl.h;source/common/upstream/logical_dns_cluster.cc;source/common/upstream/upstream_impl.cc;test/common/network/dns_impl_test.cc;test/server/server_fuzz_test.cc	38;120;185;39;63;82;373;1137;459;475;499;522;556;592;617;634;649;664;705;738;760;0;74
Gdal-20180824-f7d3cb6386	f7d3cb6386	cb892b4855	Fri Aug 24 16:33:39 2018 -0400	http: fix allocation bug introduced in #4211. (#4245)	commit f7d3cb638662f0787699b763134e1e64118d573fAuthor: htuch <htuch@users.noreply.github.com>Date:   Fri Aug 24 16:33:39 2018 -0400    http: fix allocation bug introduced in #4211. (#4245)        There were some non-local invariants that header_map_impl_fuzz_test surfaced around minimum dynamic    buffer size. This PR improves comments and documentation of invariants and fixes the allocation issue    to maintain them.        Fixes oss-fuzz issue https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=10038.        Risk level: Low. It's recommended to bump to this for potential security reasons if you are already post    #4211.    Testing: Unit test and corpus entry added.        Signed-off-by: Harvey Tuch <htuch@google.com>	10038	include/envoy/http/header_map.h;source/common/http/header_map_impl.cc;test/common/http/header_map_impl_test.cc	154;14;70;90;153;182;0;692
