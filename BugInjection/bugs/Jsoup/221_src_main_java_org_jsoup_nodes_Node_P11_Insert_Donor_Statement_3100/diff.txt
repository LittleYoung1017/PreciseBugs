--- /Node.java	2023-07-04 03:56:57.437549850 +0000
+++ /Jsoup-1/src/main/java/org/jsoup/nodes/Node.java	2023-07-04 03:56:57.441549795 +0000
@@ -218,7 +218,7 @@
         Validate.isTrue(out.parentNode == this);
         Validate.notNull(in);
         if (in.parentNode != null)
-            in.parentNode.removeChild(in);
+parentNode.replaceChild ( this, in ) ;in.parentNode.removeChild ( in ) ;
         
         Integer index = indexInList(out, childNodes);
         childNodes.set(index, in);
