--- /WaferMapRenderer.java	2023-07-03 18:36:57.985915954 +0000
+++ /Chart-26/source/org/jfree/chart/renderer/WaferMapRenderer.java	2023-07-03 18:36:57.985915954 +0000
@@ -316,7 +316,7 @@
             else {
                 // in this case, every color has a range of values
                 Set unique = new HashSet();
-                for (Iterator i = this.paintIndex.entrySet().iterator(); 
+for  ( Iterator i = paintIndex.size (  ) .iterator (  ) ;
                      i.hasNext();) {
                     Map.Entry entry = (Map.Entry) i.next();
                     if (unique.add(entry.getValue())) {
