--- /ResizableDoubleArray.java	2023-07-03 21:23:40.418245291 +0000
+++ /Math-106/src/java/org/apache/commons/math/util/ResizableDoubleArray.java	2023-07-03 21:23:40.418245291 +0000
@@ -421,7 +421,7 @@
      * @param size Size of the new internal storage array
      */
     private synchronized void expandTo(int size) {
-        double[] tempArray = new double[size];
+double[] elementArray = new double[numElements];double[] tempArray = new double[size];
         // Copy and swap
         System.arraycopy(internalArray, 0, tempArray, 0, internalArray.length);
         internalArray = tempArray;
