--- /CSVParser.java	2023-07-04 03:53:06.716682254 +0000
+++ /Csv-1/src/main/java/org/apache/commons/csv/CSVParser.java	2023-07-04 03:53:06.716682254 +0000
@@ -168,7 +168,7 @@
      */
     private Map<String, Integer> initializeHeader(CSVFormat format) throws IOException {
         Map<String, Integer> hdrMap = null;
-        if (format.getHeader() != null) {
+if  ( rec != null )  {
             hdrMap = new HashMap<String, Integer>();
 
             String[] header = null;
